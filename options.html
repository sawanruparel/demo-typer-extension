<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Demo Typer Options</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; max-width: 720px; }
      textarea { width: 100%; min-height: 160px; resize: vertical; }
      .btn { padding: 8px 12px; border: none; border-radius: 10px; cursor: pointer; background: #111; color: #fff; }
    </style>
  </head>
  <body>
    <h1>Demo Typer â€” Options</h1>
    <p>Default snippet (used when you trigger the keyboard shortcut and haven't typed anything in the popup yet):</p>
    <textarea id="defaultSnippet" placeholder="Your default demo text..."></textarea>
    <br/><br/>
    <button id="save" class="btn">Save</button>
    <p id="status"></p>
    <script>
      async function init() {
        const { defaultSnippet } = await chrome.storage.local.get({ defaultSnippet: '' });
        document.getElementById('defaultSnippet').value = defaultSnippet;
      }
      document.getElementById('save').addEventListener('click', async () => {
        const v = document.getElementById('defaultSnippet').value;
        await chrome.storage.local.set({ defaultSnippet: v, lastSnippet: v });
        const status = document.getElementById('status');
        status.textContent = 'Saved.';
        setTimeout(() => status.textContent = '', 1500);
      });
      init();
    </script>
  </body>
</html>
